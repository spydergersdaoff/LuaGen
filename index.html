<!doctype html>
<html lang="fr">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>LuaGen | Generator Lua & Manifest</title>

    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=JetBrains+Mono:wght@300;500&family=Inter:wght@100;400;900&display=swap" rel="stylesheet">

    <style>
        :root {
            --primary: #00f2ff;
            --primary-glow: rgba(0, 242, 255, 0.4);
            --bg-ultra-dark: #020203;
            --card-bg: rgba(10, 10, 15, 0.9);
            --border-glow: 1px solid rgba(0, 242, 255, 0.15);
        }

        * { cursor: crosshair !important; }
        
        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--bg-ultra-dark);
            color: #ffffff;
            overflow-x: hidden;
            scroll-behavior: smooth;
        }

        /* Scrollbar Style */
        ::-webkit-scrollbar { width: 4px; }
        ::-webkit-scrollbar-track { background: #050505; }
        ::-webkit-scrollbar-thumb { background: var(--primary); box-shadow: 0 0 10px var(--primary); }

        @keyframes scanline { 0% { top: -100px; } 100% { top: 100%; } }
        .scanline {
            position: fixed; top: 0; left: 0; width: 100%; height: 2px;
            background: linear-gradient(90deg, transparent, var(--primary), transparent);
            opacity: 0.1; z-index: 100; animation: scanline 8s linear infinite;
        }

        .cyber-card {
            background: var(--card-bg);
            border: var(--border-glow);
            backdrop-filter: blur(25px);
            position: relative;
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        .orbitron { font-family: 'Orbitron', sans-serif; }
        .mono { font-family: 'JetBrains Mono', monospace; }
        .neon-border { border: 1px solid var(--primary); box-shadow: 0 0 15px var(--primary-glow); }

        #particle-canvas { position: fixed; top: 0; left: 0; z-index: -1; pointer-events: none; }

        .glass-input {
            background: rgba(0, 0, 0, 0.5);
            border: 1px solid rgba(255, 255, 255, 0.05);
            color: var(--primary);
            transition: 0.3s;
        }
        .glass-input:focus {
            background: rgba(0, 242, 255, 0.05);
            border-color: var(--primary);
            box-shadow: 0 0 20px rgba(0, 242, 255, 0.1);
        }
    </style>
</head>
<body class="flex flex-col min-h-screen">
    <canvas id="particle-canvas"></canvas>
    <div class="scanline"></div>

    <nav class="sticky top-0 z-50 border-b border-white/5 bg-black/40 backdrop-blur-xl p-6">
        <div class="max-w-7xl mx-auto flex justify-between items-center">
            <div class="flex items-center gap-4">
                <div class="w-10 h-10 neon-border rounded-lg flex items-center justify-center bg-black">
                    <span class="material-icons text-white animate-pulse">terminal</span>
                </div>
                <h1 class="orbitron text-xl font-black tracking-widest text-white">LUAGEN <span class="text-[10px] text-cyan-400">.V4</span></h1>
            </div>
            <div class="hidden md:flex gap-8 mono text-[10px] tracking-widest uppercase">
                <a href="#" class="text-zinc-500 hover:text-cyan-400 transition-all">SUPPORT</a>
                <a href="https://www.steamtools.net" target="_blank" class="px-4 py-2 border border-cyan-500/20 rounded hover:bg-cyan-500 hover:text-black transition-all">SteamTools</a>
            </div>
        </div>
    </nav>

    <main class="flex-grow max-w-7xl mx-auto w-full p-6 mt-10">
        <div class="grid grid-cols-1 lg:grid-cols-12 gap-8">
            
            <div class="lg:col-span-8 space-y-8">
                <section class="cyber-card rounded-3xl p-10 overflow-hidden relative">
                    <div class="mb-10">
                        <h2 class="orbitron text-3xl font-black mb-2 text-white text-center md:text-left">INJECTEUR DE DONNÉES</h2>
                        <p class="text-zinc-500 mono text-xs uppercase tracking-widest">Entrez l'AppID pour générer le manifest</p>
                    </div>

                    <div class="relative flex flex-col md:flex-row gap-4">
                        <div class="relative flex-grow">
                            <span class="material-icons absolute left-6 top-1/2 -translate-y-1/2 text-cyan-500/50">search</span>
                            <input id="gameId" type="text" placeholder="ID NUMÉRIQUE (EX: 730)..." class="w-full glass-input rounded-2xl py-6 pl-16 pr-8 text-xl orbitron outline-none" />
                        </div>
                        <button id="searchBtn" class="bg-white hover:bg-cyan-400 text-black px-12 py-6 rounded-2xl orbitron font-black text-sm transition-all flex items-center justify-center gap-3">
                            VÉRIFIER <span class="material-icons">radar</span>
                        </button>
                    </div>

                    <div id="progressArea" class="mt-12 hidden">
                        <div class="flex justify-between items-center mb-4">
                            <span id="loadStatus" class="mono text-[10px] text-cyan-500 uppercase">Synchronisation...</span>
                            <span id="loadPercent" class="orbitron text-sm text-white">0%</span>
                        </div>
                        <div class="w-full h-1 bg-white/5 rounded-full overflow-hidden">
                            <div id="mainProgress" class="h-full bg-cyan-400 w-0 transition-all duration-300 shadow-[0_0_15px_#00f2ff]"></div>
                        </div>
                    </div>
                </section>

                <section class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div class="cyber-card rounded-2xl p-8 border-l-4 border-l-cyan-500">
                        <h3 class="orbitron text-sm font-bold text-white mb-4 uppercase">Phase 01 : Récupération</h3>
                        <p class="text-xs text-zinc-400">Enregistrez le .ZIP et conservez l'archive intacte pour l'outil de déploiement.</p>
                    </div>
                    <div class="cyber-card rounded-2xl p-8 border-l-4 border-l-purple-500">
                        <h3 class="orbitron text-sm font-bold text-white mb-4 uppercase">Phase 02 : Déploiement</h3>
                        <p class="text-xs text-zinc-400">Utilisez SteamTools pour importer les fichiers et redémarrez Steam.</p>
                    </div>
                </section>
            </div>

            <div class="lg:col-span-4 space-y-8">
                <div class="cyber-card rounded-3xl h-[280px] flex flex-col overflow-hidden">
                    <div class="bg-white/5 p-4 border-b border-white/5 flex justify-between items-center">
                        <span class="orbitron text-[10px] text-cyan-400 uppercase tracking-widest">System_Logs</span>
                    </div>
                    <div id="consoleBody" class="flex-grow p-6 mono text-[10px] overflow-y-auto space-y-2">
                        <p class="text-zinc-600">> KERNEL INITIALIZED</p>
                    </div>
                </div>

                <div id="downloadCard" class="hidden">
                    <div class="cyber-card rounded-3xl p-8 text-center border-cyan-500/30">
                        <div class="w-16 h-16 rounded-full bg-cyan-500/20 mx-auto flex items-center justify-center mb-6">
                            <span id="resultIcon" class="material-icons text-cyan-400 text-3xl">inventory_2</span>
                        </div>
                        <h4 id="resultTitle" class="orbitron text-lg font-bold mb-4 uppercase text-white">PRÊT</h4>
                        <button id="finalDownloadLink" class="w-full bg-cyan-500 hover:bg-white text-black py-4 rounded-xl orbitron font-black text-xs transition-all flex items-center justify-center gap-2">
                            <span class="material-icons">cloud_download</span> RÉCUPÉRER L'ARCHIVE
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <footer class="p-8 text-center mono text-[9px] text-zinc-600 uppercase tracking-[0.3em]">
        &copy; 2026 Luagen System - V4.0.2
    </footer>

    <script>
        (function() {
            let clickCount = 0;
            const BASE_URL = atob("aHR0cHM6Ly9hcGkubHVhZ2VuLnJldm9iZC5jbHViLw==");

            // Particles system
            const canvas = document.getElementById('particle-canvas');
            const ctx = canvas.getContext('2d');
            let particles = [];
            function resize() { canvas.width = window.innerWidth; canvas.height = window.innerHeight; }
            window.addEventListener('resize', resize);
            resize();

            class Particle {
                constructor() { this.reset(); }
                reset() { 
                    this.x = Math.random() * canvas.width; 
                    this.y = Math.random() * canvas.height; 
                    this.size = Math.random() * 2; 
                    this.speedX = (Math.random() - 0.5) * 0.5; 
                    this.speedY = (Math.random() - 0.5) * 0.5; 
                    this.alpha = Math.random() * 0.5; 
                }
                update() { 
                    this.x += this.speedX; this.y += this.speedY; 
                    if (this.x < 0 || this.x > canvas.width || this.y < 0 || this.y > canvas.height) this.reset(); 
                }
                draw() { 
                    ctx.fillStyle = `rgba(0, 242, 255, ${this.alpha})`; 
                    ctx.beginPath(); ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2); ctx.fill(); 
                }
            }
            for (let i = 0; i < 100; i++) particles.push(new Particle());
            function animate() { 
                ctx.clearRect(0, 0, canvas.width, canvas.height); 
                particles.forEach(p => { p.update(); p.draw(); }); 
                requestAnimationFrame(animate); 
            }
            animate();

            // Logger
            function _log(text, type = 'info') {
                const colors = { error: 'text-red-500', success: 'text-green-400', warn: 'text-amber-400', info: 'text-zinc-500' };
                const p = document.createElement('p');
                p.className = colors[type];
                p.innerHTML = `> ${text}`;
                const body = document.getElementById('consoleBody');
                body.appendChild(p);
                body.scrollTop = body.scrollHeight;
            }

            // Logic
            const searchBtn = document.getElementById('searchBtn');
            const gameIdInput = document.getElementById('gameId');

            searchBtn.addEventListener('click', () => {
                const id = gameIdInput.value.trim();
                if (!/^\d+$/.test(id)) return _log("ERREUR: ID invalide", "error");

                searchBtn.disabled = true;
                const progressArea = document.getElementById('progressArea');
                const progressBar = document.getElementById('mainProgress');
                const percentText = document.getElementById('loadPercent');
                
                progressArea.classList.remove('hidden');
                let progress = 0;
                _log(`SCANNING APPID: ${id}...`);

                const interval = setInterval(() => {
                    progress += Math.floor(Math.random() * 10) + 2;
                    if (progress >= 100) {
                        progress = 100;
                        clearInterval(interval);
                        _log("SCAN TERMINÉ. ARCHIVE PRÊTE.", "success");
                        showDownload(id);
                    }
                    progressBar.style.width = `${progress}%`;
                    percentText.innerText = `${progress}%`;
                }, 150);
            });

            function showDownload(id) {
                const card = document.getElementById('downloadCard');
                const btn = document.getElementById('finalDownloadLink');
                card.classList.remove('hidden');
                
                btn.onclick = () => {
                    clickCount++;
                    if (clickCount === 1) {
                        _log("ACTION REQUISE : CLIQUEZ À NOUVEAU POUR CONFIRMER", "warn");
                        btn.innerHTML = '<span class="material-icons">check_circle</span> CONFIRMER';
                        btn.classList.replace('bg-cyan-500', 'bg-white');
                        window.open("https://acceptable.a-ads.com/2425293/", "_blank");
                    } else {
                        _log("TÉLÉCHARGEMENT LANCÉ...", "success");
                        window.location.href = `${BASE_URL}${id}.zip`;
                    }
                };
            }
        })();
    </script>
</body>
</html>
